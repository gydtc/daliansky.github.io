<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>黑果小兵的部落阁</title>
    <link>http://blog.daliansky.net/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>一些平时学习笔记以及搜集到的好的文章</description>
    <pubDate>Tue, 04 Dec 2018 01:08:59 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>扫马支持群升级</title>
      <link>http://blog.daliansky.net/Scan-code-support-QQ-group-upgrade.html</link>
      <guid>http://blog.daliansky.net/Scan-code-support-QQ-group-upgrade.html</guid>
      <pubDate>Tue, 04 Dec 2018 01:01:21 GMT</pubDate>
      <description>
      
        
        
          &lt;!-- build time:Tue Dec 04 2018 09:09:17 GMT+0800 (中国标准时间) --&gt;&lt;h2&gt;扫&lt;code&gt;马&lt;/code&gt;支持群升级&lt;/h2&gt;&lt;p&gt;目前群主已续年费超级会员，QQ等级为&lt;code&gt;svip5&lt;/code&gt;，只能建立一个200
        
      
      </description>
      
      <content:encoded><![CDATA[<!-- build time:Tue Dec 04 2018 09:09:17 GMT+0800 (中国标准时间) --><h2>扫<code>马</code>支持群升级</h2><p>目前群主已续年费超级会员，QQ等级为<code>svip5</code>，只能建立一个2000人群，一个1000人群，4个500人群，目前群全部满员，在无法增加新建群的情况下，只能采取花钱购买群的方式升级群人数。</p><p><img src="http://7.daliansky.net/alipay/QQ1.png" alt="QQ1"></p><p><img src="http://7.daliansky.net/alipay/QQ2.png" alt="QQ2"></p><p><img src="http://7.daliansky.net/alipay/QQ3.png" alt="QQ3"></p><p>值此支付宝搞双12活动，借用马云家的<code>你扫码我赚赏金</code>的方式来充值马化腾的<code>超级无耻花钱买QQ会员</code>。本次活动拟筹资1000元，满即停，我会附上截图，以供各位群友监督。</p><h2>您可以：</h2><h3>先用支付宝扫描下方二维码，获取<code>花呗消费红包</code>，群主赚取赏金</h3><p><img src="http://7.daliansky.net/alipay/alipay1.jpg" alt="alipay1"></p><h3>还可以将收到的&quot;花呗红包&quot;转账到<code>黑果小兵</code>的支付宝</h3><p>如果您获得了一个<code>13.66元</code>的红包，您可以输入转账金额：<code>13.67</code>元，付款选择<code>花呗</code>，这样您只需要支出<code>0.01</code>元，支持本站的群升级。</p><p><img src="http://7.daliansky.net/alipay/alipay2.jpg" alt="alipay2"></p><h3>付支付宝赏金初始金额:<code>26.46</code>元，2018年12月4日</h3><p><img src="http://7.daliansky.net/alipay/alipay3.jpg" alt="alipay3"></p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>http://blog.daliansky.net/Scan-code-support-QQ-group-upgrade.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>【黑果小兵】macOS Mojave 10.14.1 18B75 正式版 with Clover 4726原版镜像</title>
      <link>http://blog.daliansky.net/macOS-Mojave-10.14.1-18B75-official-version-with-Clover-4726-original-image.html</link>
      <guid>http://blog.daliansky.net/macOS-Mojave-10.14.1-18B75-official-version-with-Clover-4726-original-image.html</guid>
      <pubDate>Wed, 31 Oct 2018 02:11:11 GMT</pubDate>
      <description>
      
        
        
          &lt;!-- build time:Tue Dec 04 2018 09:09:17 GMT+0800 (中国标准时间) --&gt;&lt;h1&gt;【黑果小兵】macOS Mojave 10.14.1(18B75)正式版 with Clover 4726原版镜像&lt;/h1&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;1
        
      
      </description>
      
      <content:encoded><![CDATA[<!-- build time:Tue Dec 04 2018 09:09:17 GMT+0800 (中国标准时间) --><h1>【黑果小兵】macOS Mojave 10.14.1(18B75)正式版 with Clover 4726原版镜像</h1><ul><li><p>10月30日，苹果发布了MacOS Mojave 10.14.1的更新版本</p></li><li><p>macOS 10.14.1的更新日志如下：</p><ul><li>增加了FaceTime视频和音频群聊功能，采用端对端加密保护隐私，支持多达32人同时通话，可从“信息”群组对话发起群聊，也可在通话过程中随时加入。</li><li>新增了70多个表情符号形象，其中包括红发、白发和卷发的全新人物形象，新的光头人物表情符号，更富表现力的笑脸以及更多动物、运动和食物类表情符号。</li></ul><p>此外，苹果表示macOS Mojave 10.14.1更新提高了Mac的稳定性、兼容性和安全性，建议所有用户安装。</p><p>以下是与macOS Mojave兼容的Mac机型：</p><ul><li>MacBook (2015年前期或之后的机型)</li><li>MacBook Air (2012年中期或之后的机型)</li><li>MacBook Pro (2012年中期或之后的机型)</li><li>Mac mini (2012年后期或之后的机型)</li><li>iMac (2012年后期或之后的机型)</li><li>iMac Pro (2017年)</li><li>Mac Pro (2013年后期的机型，以及支持特定Metal技术图形卡的2010年中期和2012年中期的机型)</li></ul></li><li><p>镜像靓点：去除<code>USB端口限制</code>，减少禁行发生的几率；增加<code>Lilu</code>崩溃的日志信息显示；新增加<code>HD620/UHD620</code>的配置文件，原则上支持安装时驱动显卡；新增<code>UHD630</code>的配置文件，机型设置为<code>MacBookPro15,2</code>，显卡自动侦测；</p></li><li><p>本镜像采用官方原版app制作，集成Clover 4726，支持UEFI启动安装;<code>apfs.efi</code>同时去除日志显示；其它的驱动位于<code>drivers-Off</code>；</p></li><li><p>Clover集成了本人修改的全新主题，不喜欢的可以于安装系统后自行替换；<img src="http://7.daliansky.net/10.14/Clover4674.png" alt="0Clover"></p></li><li><p>所有配置文件中默认添加<code>Lilu</code>崩溃日志的输出信息,详见：<a href="https://blog.daliansky.net/Common-problems-and-solutions-in-macOS-Mojave-10.14-installation.html">macOS Mojave 10.14安装中常见的问题及解决方法</a>;</p></li><li><p>更新<code>WhateverGreen</code>到V1.2.4，原生支持UHD620/UHD630等八代核显，不需要注入<code>platform-id</code>， 同时它也支持NVIDIA和AMD的显卡，以及整合了<code>Shiki</code>和<code>CoreDisplayFixup</code>的驱动，现在是All In One了；</p><p><img src="http://7.daliansky.net/dell/IntelGraphicsFixup.jpg" alt="http://7.daliansky.net/dell/IntelGraphicsFixup.jpg"></p></li><li><p>Clover默认配置文件<code>config.plist</code>原则上支持各种机型引导安装；同时新增加了原生支持HD620/UHD620的配置文件<code>config_UHD620_HD620_59160000.plist</code>和八代UHD630的配置文件<code>config_UHD630.plist</code>，供您享用；</p></li><li><p>其它配置文件包括：HD520/530/540，HD550/P530,HD5000/5100/5200/5300/5500/6000,HD4200/4400/4600；所有config配置文件都可通过Clover引导界面-<code>Options</code>-<code>configs</code>进行选择；不会操作的请移步：<a href="https://blog.daliansky.net/clover-user-manual.html">Clover使用教程</a> <a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html">macOS安装教程</a></p></li></ul><h1>安装教程简单版</h1><ul><li><p>**安装过程（简易版）：**详细的安装教程请移步：<a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html">macOS安装教程</a></p><ul><li><p>下载镜像：<a href="https://blog.daliansky.net">黑果小兵的部落阁</a></p></li><li><p>校验md5值：</p><ul><li><p>macOS：打开终端，输入命令：</p></li><li><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">md5 macOS Mojave 10.14(18A391) Installer with Clover 4674.dmg<span class="comment"># 空格以\ 代替</span></span><br><span class="line">MD5 (macOS Mojave 10.14(18A391) Installer with Clover 4674.dmg) = 87928afc8f6d4d11e066a5044f8875bf</span><br></pre></td></tr></table></figure><p></p></li><li><p>Windows下：请使用<a href="http://www.winmd5.com" target="_blank" rel="noopener">winmd5</a>，将下载的安装镜像拖进winmd5窗口，核验md5值（截图略）</p></li></ul></li><li><p>镜像制作：</p><ul><li>下载<a href="https://etcher.io" target="_blank" rel="noopener">etcher</a>，打开镜像，选择U盘，点击Flash即可<img src="http://7.daliansky.net/etcher.png" alt="etcher"></li></ul></li><li><p>安装macOS：</p><ul><li><strong>安装过程中不要先替换EFI，等安装全部结果后再执行替换EFI的操作</strong></li><li>安装过程中出现问题请参考：<a href="https://blog.daliansky.net/clover-user-manual.html">clover使用教程</a> 以及 <a href="https://blog.daliansky.net/Common-problems-and-solutions-in-macOS-Mojave-10.14-installation.html">macOS Mojave 10.14安装中常见的问题及解决方法</a></li></ul></li><li><p>安装后所需要执行的动作：</p><ul><li><a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html#undefined">合并和替换EFI</a> <a href="https://blog.daliansky.net/Add-CLOVER-boot-to-UEFI-without-any-tools.html">不借助任何工具将CLOVER引导添加进UEFI的正确姿势</a></li><li>驱动：显卡、声卡、USB定制：<a href="https://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html">Intel FB-Patcher使用教程及插入姿势</a> / <a href="https://blog.daliansky.net/Intel-core-display-platformID-finishing.html">黑苹果必备：Intel核显platform ID整理及smbios速查表</a> / <a href="https://blog.daliansky.net/Coffee-Lake-frame-buffer-patch-and-UHD630-Coffee-Lake-ig-platform-id-data-finishing.html">Coffee Lake帧缓冲区补丁及UHD630 Coffee Lake ig-platform-id数据整理</a></li><li>声卡仿冒：<a href="https://blog.daliansky.net/Use-AppleALC-sound-card-to-drive-the-correct-posture-of-AppleHDA.html">使用AppleALC声卡仿冒驱动AppleHDA的正确姿势</a></li><li>无线网卡：<a href="https://blog.daliansky.net/Broadcom-BCM94352z-DW1560-drive-new-posture.html">Broadcom BCM94352z/DW1560驱动新姿势新方法</a></li></ul></li></ul></li></ul><ul><li><p>本镜像集成的EFI如果无法安装，请根据自己的机型寻找相应的EFI进行替换，请参考：<a href="http://bbs.pcbeta.com/viewthread-1753483-1-1.html" target="_blank" rel="noopener">macOS High Sierra区笔记本安装情况集合帖</a></p></li><li><p>支持Realtek8111/8100系列有线网卡，支持Intel板载有线网卡；其它的网卡驱动位于<code>kexts/Other/其它驱动</code></p></li><li><p>已更新Lilu(v1.2.8)、AppleALC(v1.3.3)、WhateverGreen(v1.2.4)等驱动；</p></li><li><p>本镜像已经过本人安装测试，若您在使用中遇到问题，可通过爬楼自行解决。本人才疏学浅，所学知识都来自于远景社区，感谢远景各位大咖一直以来对 <code>黑果小兵</code> 的大力支持，由于人员众多，恕不一一列名致谢！</p></li><li><p>挂载EFI分区</p><p>Windows操作系统下面,以系统管理员身份打开<code>cmd</code>窗口,输入命令:</p><p></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">c:\&gt;diskpart</span><br><span class="line">list disk           <span class="comment"># 磁盘列表</span></span><br><span class="line">select disk n       <span class="comment"># 选择EFI分区所在的磁盘，n为磁盘号</span></span><br><span class="line">list partition      <span class="comment"># 磁盘分区列表</span></span><br><span class="line">select partition n  <span class="comment"># 选择EFI分区，n为EFI分区号</span></span><br><span class="line"><span class="built_in">set</span> id=<span class="string">"ebd0a0a2-b9e5-4433-87c0-68b6b72699c7"</span><span class="comment"># 设置为基本数据分区</span></span><br><span class="line">assign letter=X     <span class="comment"># x为EFI分区盘符</span></span><br><span class="line"><span class="built_in">exit</span><span class="comment"># 退出diskpart</span></span><br><span class="line">notepad<span class="comment"># 打开记事本程序，点击文件-&gt;打开，即可访问EFI分区</span></span><br></pre></td></tr></table></figure><p></p><p>您可以重复输入命令同时挂载USB的EFI分区和磁盘的EFI分区</p><p>另一种方法：直接 使用应用程序<code>diskgenius</code>挂载EFI分区进行操作</p></li><li><p>本镜像发布站点：<a href="http://bbs.pcbeta.com/forum.php?gid=86" target="_blank" rel="noopener">远景论坛</a> / <a href="https://blog.daliansky.net">黑果小兵的部落阁</a></p></li></ul><h1>截图：</h1><p><img src="http://7.daliansky.net/10.14.1/10.14.1.png" alt="1About"> <img src="http://7.daliansky.net/10.14GM/21Displays.png" alt="21Displays"> <img src="http://7.daliansky.net/10.14GM/22Displays.png" alt="22Displays"> <img src="http://7.daliansky.net/10.14GM/2Video.png" alt="2Video"> <img src="http://7.daliansky.net/dell7000/1Audio.png" alt="1Audio"> <img src="http://7.daliansky.net/dell7000/1Audio2.png" alt="1Audio2"> <img src="http://7.daliansky.net/dell7000/1AudioPatch.png" alt="1AudioPatch"> <img src="http://7.daliansky.net/dell7000/2BlueTooth.png" alt="2BlueTooth"> <img src="http://7.daliansky.net/dell7000/2BlueTooth2.png" alt="2BlueTooth2"> <img src="http://7.daliansky.net/dell7000/3Wifi.png" alt="3Wifi"> <img src="http://7.daliansky.net/dell7000/4Sata.png" alt="4Sata"> <img src="http://7.daliansky.net/dell7000/5Ethernet.png" alt="5Ethernet"> <img src="http://7.daliansky.net/dell7000/6USB.png" alt="6USB"> <img src="http://7.daliansky.net/dell7000/6USBFinal.png" alt="6USBFinal"> <img src="http://7.daliansky.net/dell7000/7Light.png" alt="7Light"> <img src="http://7.daliansky.net/dell7000/8Volume.png" alt="8Volume"> <img src="http://7.daliansky.net/dell7000/9Drivers.png" alt="9Drivers"> <img src="http://7.daliansky.net/10.14GM/4I2C.png" alt="4I2C"> <img src="http://7.daliansky.net/10.14GM/5TouchPad.png" alt="5TouchPad"> <img src="http://7.daliansky.net/10.14GM/8Drivers.png" alt="8Drivers"> <img src="http://7.daliansky.net/10.14.1/18B75.png" alt="10About"></p><h2>特别感谢</h2><p>@宪武 提供的新的hotpatch的全套方法</p><h1>下载链接</h1><p>迅雷离线下载：[<a href="https://mirrors.dtops.cc/iso/MacOS/daliansky_macos/macOS%20Mojave%2010.14.1%2818B75%29%20Installer%20with%20Clover%204726.dmg" target="_blank" rel="noopener">请点击下载</a>] 感谢<code>@难忘情怀</code>提供下载资源</p><p>http下载链接:<a href="https://mirrors.dtops.cc/iso/MacOS/daliansky_macos/" target="_blank" rel="noopener">请点击下载</a> 感谢<code>@难忘情怀</code>提供下载资源</p><p>百毒云：https://pan.baidu.com/s/1M34keyVL3_0qYsLXTwcbpA</p><p>MD5 (macOS Mojave 10.14.1(18B75) Installer with Clover 4726.dmg) = 744b8154b1829123520e2685e99991a7</p><h1>关于打赏</h1><p>您的支持就是我更新的动力！ 如果不希望看到博主停更的话，请点击下方的 <code>打赏</code> 支持一下，有钱的捧个钱场，没钱的捧个人场，谢谢大家！</p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>http://blog.daliansky.net/macOS-Mojave-10.14.1-18B75-official-version-with-Clover-4726-original-image.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>【黑果小兵】CoffeeLake UHD 630黑屏、直接亮屏及亮度调整的正确插入姿势</title>
      <link>http://blog.daliansky.net/CoffeeLake-UHD-630-black-screen-direct-bright-screen-and-correct-adjustment-of-brightness-adjustment.html</link>
      <guid>http://blog.daliansky.net/CoffeeLake-UHD-630-black-screen-direct-bright-screen-and-correct-adjustment-of-brightness-adjustment.html</guid>
      <pubDate>Wed, 17 Oct 2018 23:32:17 GMT</pubDate>
      <description>
      
        
        
          &lt;!-- build time:Tue Dec 04 2018 09:09:17 GMT+0800 (中国标准时间) --&gt;&lt;h1&gt;【黑果小兵】CoffeeLake UHD 630黑屏、直接亮屏及亮度调整的正确插入姿势&lt;/h1&gt;&lt;blockquote&gt;&lt;p&gt;适用于MacOS Mo
        
      
      </description>
      
      <content:encoded><![CDATA[<!-- build time:Tue Dec 04 2018 09:09:17 GMT+0800 (中国标准时间) --><h1>【黑果小兵】CoffeeLake UHD 630黑屏、直接亮屏及亮度调整的正确插入姿势</h1><blockquote><p>适用于MacOS Mojave /macOS HighSierra 10.13.6(17G2112/17G2208)</p></blockquote><h2>直接亮屏</h2><h3>台式机/笔记本</h3><ul><li>笔记本：<ul><li>移除<code>SSDT-PNLF.aml</code></li><li>取消勾选<code>AddPNLF</code></li></ul></li><li>Clover更新到v4707及以上，方法由<a href="https://github.com/headkaze" target="_blank" rel="noopener">headkaze</a>提供，<a href="https://github.com/Dids/clover-builder/releases" target="_blank" rel="noopener">clover下载</a></li><li>添加了<code>igfxcflbklt</code>引导参数的<code>WhateverGreen</code>，方法由<a href="https://github.com/headkaze" target="_blank" rel="noopener">headkaze</a>提供，<a href="https://github.com/daliansky/XiaoMi-GLP/raw/dev/EFI/CLOVER/kexts/Other/WhateverGreen%E5%85%AB%E4%BB%A3%E4%BA%AE%E5%B1%8F%E7%89%88.zip" target="_blank" rel="noopener">下载</a></li><li>config.plist，可<a href="https://github.com/daliansky/XiaoMi-GLP/blob/dev/EFI/CLOVER/config.plist" target="_blank" rel="noopener">参考</a><ul><li>Boot Args添加引导参数：<code>igfxcflbklt=force</code></li><li>Devices/Properties添加：<code>enable-cfl-backlight-fix</code>参数设置为<code>01000000</code><img src="http://7.daliansky.net/FB-Patcher/UHD630-enable-cflbklt.png" alt="UHD630-enable-cflbklt"></li></ul></li></ul><h2>亮度调整</h2><h3>笔记本</h3><ul><li>添加：<code>change GFX0 to IGPU</code>重命名</li><li>勾选<code>AddPNLF</code>选项或者添加<code>SSDT-PNLF_CoffeeLake.aml</code>，特别感谢<code>@宪武</code>，<a href="https://github.com/daliansky/XiaoMi-GLP/raw/dev/EFI/CLOVER/ACPI/patched/SSDT-PNLF_CoffeeLake.aml" target="_blank" rel="noopener">下载链接</a></li></ul><h2>已测试过机型：</h2><ul><li>八代小米游戏本增强版</li><li>机械革命X8Ti</li><li>MSI GE63</li><li>联想Y7000</li></ul><h2>问题反馈</h2><p>请通过QQ群讨论、反馈</p><h2>鸣谢</h2><ul><li><code>@宪武</code>制作的众多的<code>hotpatch</code>补丁</li><li>headkaze 制作了<a href="https://www.insanelymac.com/forum/topic/335018-intel-fb-patcher-v151/" target="_blank" rel="noopener">Intel FB Patcher</a> <a href="https://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html">使用教程</a></li><li>vit9696 for <a href="https://github.com/acidanthera/WhateverGreen" target="_blank" rel="noopener">WhateverGreen</a> (<a href="https://github.com/acidanthera/WhateverGreen#credits" target="_blank" rel="noopener">full credits</a>), <a href="https://github.com/acidanthera/Lilu" target="_blank" rel="noopener">Lilu</a> (<a href="https://github.com/acidanthera/Lilu#credits" target="_blank" rel="noopener">full credits</a>), <a href="https://github.com/acidanthera/AppleALC" target="_blank" rel="noopener">AppleALC</a> (<a href="https://github.com/acidanthera/AppleALC#credits" target="_blank" rel="noopener">full credits</a>), USBPower.kext and additional help</li><li>vit9696 for <a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/IntelFramebuffer.bt" target="_blank" rel="noopener">IntelFramebuffer.bt</a> with additional work by bcc9, Piker-Alpha and joevt</li><li>DalianSky for <a href="https://blog.daliansky.net/Intel-core-display-platformID-finishing.html">Intel Core Platform ID and SMBIOS Quick Reference</a></li><li>vandroiy2013 for audio id data from <a href="https://github.com/acidanthera/AppleALC" target="_blank" rel="noopener">AppleALC</a></li><li>RehabMan for AllData patch method and various technical info</li></ul><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>http://blog.daliansky.net/CoffeeLake-UHD-630-black-screen-direct-bright-screen-and-correct-adjustment-of-brightness-adjustment.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>【黑果小兵】macOS Mojave 10.14 18A391 正式版 with Clover 4674原版镜像</title>
      <link>http://blog.daliansky.net/macOS-Mojave-10.14-18A391-official-version-with-Clover-4674-original-image.html</link>
      <guid>http://blog.daliansky.net/macOS-Mojave-10.14-18A391-official-version-with-Clover-4674-original-image.html</guid>
      <pubDate>Mon, 24 Sep 2018 18:21:11 GMT</pubDate>
      <description>
      
        
        
          &lt;!-- build time:Tue Dec 04 2018 09:09:17 GMT+0800 (中国标准时间) --&gt;&lt;h1&gt;【黑果小兵】macOS Mojave 10.14(18A391)正式版 with Clover 4674原版镜像&lt;/h1&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;随着
        
      
      </description>
      
      <content:encoded><![CDATA[<!-- build time:Tue Dec 04 2018 09:09:17 GMT+0800 (中国标准时间) --><h1>【黑果小兵】macOS Mojave 10.14(18A391)正式版 with Clover 4674原版镜像</h1><ul><li><p>随着苹果发布了最新的MacBookPro 15,1/15,2这两款产品，macOS Mojave已于9月24日发布了正式版，它原生支持第八代核显;<strong>众多的8代CPU的朋友们可以彻底告别黑屏的痛苦</strong></p></li><li><p>镜像靓点：去除<code>USB端口限制</code>，减少禁行发生的几率；增加<code>Lilu</code>崩溃的日志信息显示；新增加<code>HD620/UHD620</code>的配置文件，原则上支持安装时驱动显卡；新增<code>UHD630</code>的配置文件，机型设置为<code>MacBookPro15,2</code>，显卡自动侦测；</p></li><li><p>本镜像采用官方原版app制作，集成Clover 4674，支持UEFI启动安装;<code>apfs.efi</code>同时去除日志显示；其它的驱动位于<code>drivers-Off</code>；</p></li><li><p>Clover集成了本人修改的全新主题，不喜欢的可以于安装系统后自行替换；<img src="http://7.daliansky.net/10.14/Clover4674.png" alt="0Clover"></p></li><li><p>所有配置文件中默认添加<code>Lilu</code>崩溃日志的输出信息,详见：<a href="https://blog.daliansky.net/Common-problems-and-solutions-in-macOS-Mojave-10.14-installation.html">macOS Mojave 10.14安装中常见的问题及解决方法</a>;</p></li><li><p>更新<code>WhateverGreen</code>到V1.2.3，原生支持UHD620/UHD630等八代核显，不需要注入<code>platform-id</code>， 同时它也支持NVIDIA和AMD的显卡，以及整合了<code>Shiki</code>和<code>CoreDisplayFixup</code>的驱动，现在是All In One了；</p><p><img src="http://7.daliansky.net/dell/IntelGraphicsFixup.jpg" alt="http://7.daliansky.net/dell/IntelGraphicsFixup.jpg"></p></li><li><p>Clover默认配置文件<code>config.plist</code>原则上支持各种机型引导安装；同时新增加了原生支持HD620/UHD620的配置文件<code>config_UHD620_HD620_59160000.plist</code>和八代UHD630的配置文件<code>config_UHD630.plist</code>，供您享用；</p></li><li><p>其它配置文件包括：HD520/530/540，HD550/P530,HD5000/5100/5200/5300/5500/6000,HD4200/4400/4600；所有config配置文件都可通过Clover引导界面-<code>Options</code>-<code>configs</code>进行选择；不会操作的请移步：<a href="https://blog.daliansky.net/clover-user-manual.html">Clover使用教程</a> <a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html">macOS安装教程</a></p></li></ul><h1>安装教程简单版</h1><ul><li><p>**安装过程（简易版）：**详细的安装教程请移步：<a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html">macOS安装教程</a></p><ul><li><p>下载镜像：<a href="https://blog.daliansky.net">黑果小兵的部落阁</a></p></li><li><p>校验md5值：</p><ul><li><p>macOS：打开终端，输入命令：</p></li><li><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">md5 macOS Mojave 10.14(18A391) Installer with Clover 4674.dmg<span class="comment"># 空格以\ 代替</span></span><br><span class="line">MD5 (macOS Mojave 10.14(18A391) Installer with Clover 4674.dmg) = 87928afc8f6d4d11e066a5044f8875bf</span><br></pre></td></tr></table></figure><p></p></li><li><p>Windows下：请使用<a href="http://www.winmd5.com" target="_blank" rel="noopener">winmd5</a>，将下载的安装镜像拖进winmd5窗口，核验md5值（截图略）</p></li></ul></li><li><p>镜像制作：</p><ul><li>下载<a href="https://etcher.io" target="_blank" rel="noopener">etcher</a>，打开镜像，选择U盘，点击Flash即可<img src="http://7.daliansky.net/etcher.png" alt="etcher"></li></ul></li><li><p>安装macOS：</p><ul><li><strong>安装过程中不要先替换EFI，等安装全部结果后再执行替换EFI的操作</strong></li><li>安装过程中出现问题请参考：<a href="https://blog.daliansky.net/clover-user-manual.html">clover使用教程</a> 以及 <a href="https://blog.daliansky.net/Common-problems-and-solutions-in-macOS-Mojave-10.14-installation.html">macOS Mojave 10.14安装中常见的问题及解决方法</a></li></ul></li><li><p>安装后所需要执行的动作：</p><ul><li><a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html#undefined">合并和替换EFI</a> <a href="https://blog.daliansky.net/Add-CLOVER-boot-to-UEFI-without-any-tools.html">不借助任何工具将CLOVER引导添加进UEFI的正确姿势</a></li><li>驱动：显卡、声卡、USB定制：<a href="https://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html">Intel FB-Patcher使用教程及插入姿势</a> / <a href="https://blog.daliansky.net/Intel-core-display-platformID-finishing.html">黑苹果必备：Intel核显platform ID整理及smbios速查表</a> / <a href="https://blog.daliansky.net/Coffee-Lake-frame-buffer-patch-and-UHD630-Coffee-Lake-ig-platform-id-data-finishing.html">Coffee Lake帧缓冲区补丁及UHD630 Coffee Lake ig-platform-id数据整理</a></li><li>声卡仿冒：<a href="https://blog.daliansky.net/Use-AppleALC-sound-card-to-drive-the-correct-posture-of-AppleHDA.html">使用AppleALC声卡仿冒驱动AppleHDA的正确姿势</a></li><li>无线网卡：<a href="https://blog.daliansky.net/Broadcom-BCM94352z-DW1560-drive-new-posture.html">Broadcom BCM94352z/DW1560驱动新姿势新方法</a></li></ul></li></ul></li></ul><ul><li><p>本镜像集成的EFI如果无法安装，请根据自己的机型寻找相应的EFI进行替换，请参考：<a href="http://bbs.pcbeta.com/viewthread-1753483-1-1.html" target="_blank" rel="noopener">macOS High Sierra区笔记本安装情况集合帖</a></p></li><li><p>支持Realtek8111/8100系列有线网卡，支持Intel板载有线网卡；其它的网卡驱动位于<code>kexts/Other/其它驱动</code></p></li><li><p>已更新Lilu(v1.2.7)、AppleALC(v1.3.2)、WhateverGreen(v1.2.3)等驱动；</p></li><li><p>本镜像已经过本人安装测试，若您在使用中遇到问题，可通过爬楼自行解决。本人才疏学浅，所学知识都来自于远景社区，感谢远景各位大咖一直以来对 <code>黑果小兵</code> 的大力支持，由于人员众多，恕不一一列名致谢！</p></li><li><p>挂载EFI分区</p><p>Windows操作系统下面,以系统管理员身份打开<code>cmd</code>窗口,输入命令:</p><p></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">c:\&gt;diskpart</span><br><span class="line">list disk           <span class="comment"># 磁盘列表</span></span><br><span class="line">select disk n       <span class="comment"># 选择EFI分区所在的磁盘，n为磁盘号</span></span><br><span class="line">list partition      <span class="comment"># 磁盘分区列表</span></span><br><span class="line">select partition n  <span class="comment"># 选择EFI分区，n为EFI分区号</span></span><br><span class="line"><span class="built_in">set</span> id=<span class="string">"ebd0a0a2-b9e5-4433-87c0-68b6b72699c7"</span><span class="comment"># 设置为基本数据分区</span></span><br><span class="line">assign letter=X     <span class="comment"># x为EFI分区盘符</span></span><br><span class="line"><span class="built_in">exit</span><span class="comment"># 退出diskpart</span></span><br><span class="line">notepad<span class="comment"># 打开记事本程序，点击文件-&gt;打开，即可访问EFI分区</span></span><br></pre></td></tr></table></figure><p></p><p>您可以重复输入命令同时挂载USB的EFI分区和磁盘的EFI分区</p><p>另一种方法：直接 使用应用程序<code>diskgenius</code>挂载EFI分区进行操作</p></li><li><p>本镜像发布站点：<a href="http://bbs.pcbeta.com/forum.php?gid=86" target="_blank" rel="noopener">远景论坛</a> / <a href="https://blog.daliansky.net">黑果小兵的部落阁</a></p></li></ul><h1>截图：</h1><p><img src="http://7.daliansky.net/10.14GM/1About.png" alt="1About"> <img src="http://7.daliansky.net/10.14GM/21Displays.png" alt="21Displays"> <img src="http://7.daliansky.net/10.14GM/22Displays.png" alt="22Displays"> <img src="http://7.daliansky.net/10.14GM/2Video.png" alt="2Video"> <img src="http://7.daliansky.net/dell7000/1Audio.png" alt="1Audio"> <img src="http://7.daliansky.net/dell7000/1Audio2.png" alt="1Audio2"> <img src="http://7.daliansky.net/dell7000/1AudioPatch.png" alt="1AudioPatch"> <img src="http://7.daliansky.net/dell7000/2BlueTooth.png" alt="2BlueTooth"> <img src="http://7.daliansky.net/dell7000/2BlueTooth2.png" alt="2BlueTooth2"> <img src="http://7.daliansky.net/dell7000/3Wifi.png" alt="3Wifi"> <img src="http://7.daliansky.net/dell7000/4Sata.png" alt="4Sata"> <img src="http://7.daliansky.net/dell7000/5Ethernet.png" alt="5Ethernet"> <img src="http://7.daliansky.net/dell7000/6USB.png" alt="6USB"> <img src="http://7.daliansky.net/dell7000/6USBFinal.png" alt="6USBFinal"> <img src="http://7.daliansky.net/dell7000/7Light.png" alt="7Light"> <img src="http://7.daliansky.net/dell7000/8Volume.png" alt="8Volume"> <img src="http://7.daliansky.net/dell7000/9Drivers.png" alt="9Drivers"> <img src="http://7.daliansky.net/10.14GM/4I2C.png" alt="4I2C"> <img src="http://7.daliansky.net/10.14GM/5TouchPad.png" alt="5TouchPad"> <img src="http://7.daliansky.net/10.14GM/8Drivers.png" alt="8Drivers"> <img src="http://7.daliansky.net/10.14GM/Mojave18A391.png" alt="10About"></p><h2>特别感谢</h2><p>@宪武 提供的新的hotpatch的全套方法</p><h1>下载链接</h1><p>迅雷离线下载：<a href="https://mirrors.dtops.cc/iso/MacOS/daliansky_macos/macOS%20Mojave%2010.14%2818A391%29%20Installer%20with%20Clover%204674.dmg" target="_blank" rel="noopener">请点击下载</a> 感谢<code>@难忘情怀</code>提供下载资源</p><p>http下载链接:<a href="https://mirrors.dtops.cc/iso/MacOS/daliansky_macos/" target="_blank" rel="noopener">请点击下载</a> 感谢<code>@难忘情怀</code>提供下载资源</p><p>百毒云：<a href="https://pan.baidu.com/s/1b0dNTcBxLhWKbxmlbJMd0Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1b0dNTcBxLhWKbxmlbJMd0Q</a></p><p>MD5 (macOS Mojave 10.14(18A391) Installer with Clover 4674.dmg) = 87928afc8f6d4d11e066a5044f8875bf</p><h1>关于打赏</h1><p>您的支持就是我更新的动力！ 如果不希望看到博主停更的话，请点击下方的 <code>打赏</code> 支持一下，有钱的捧个钱场，没钱的捧个人场，谢谢大家！</p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>http://blog.daliansky.net/macOS-Mojave-10.14-18A391-official-version-with-Clover-4674-original-image.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Intel FB-Patcher使用教程及插入姿势</title>
      <link>http://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html</link>
      <guid>http://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html</guid>
      <pubDate>Sun, 23 Sep 2018 02:14:05 GMT</pubDate>
      <description>
      
        
        
          &lt;!-- build time:Tue Dec 04 2018 09:09:17 GMT+0800 (中国标准时间) --&gt;&lt;h2&gt;Intel FB-Patcher使用教程及插入姿势&lt;/h2&gt;&lt;h2&gt;功能&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;支持Sandy Bridge，Ivy Bridge
        
      
      </description>
      
      <content:encoded><![CDATA[<!-- build time:Tue Dec 04 2018 09:09:17 GMT+0800 (中国标准时间) --><h2>Intel FB-Patcher使用教程及插入姿势</h2><h2>功能</h2><ul><li>支持Sandy Bridge，Ivy Bridge，Haswell，Broadwell，SKYLAKE，KabyLake，Coffee Lake, Cannon Lake Ice Lake几乎所有的平台</li><li>创建所有的显示接口连接和VRAM补丁</li><li>检测自动修补程序创建的变化</li><li>创建Clover补丁，支持hex，base64或Devices/Properties等三种格式</li><li>显示原生GPU和型号标识</li><li>显示和编辑内存信息，如Stolen，Framebuffer，VRAM，Cursor等</li><li>翻滚一些项目的其他信息（Tool tips）</li><li>直接读取已加载生效的xxxFramebuffer kext的数据</li><li>文件-&gt;打开通过Debug版本的<code>WhatEverGreen.kext</code>的<code>-igfxdump</code>引导标志生成的Framebuffer文件</li><li>文件- &gt;导出&gt;Clover config.plist</li><li>文件-&gt;导出- &gt; Framebuffer.txt</li><li>修补音频布局ID</li><li>添加USB端口限制补丁</li><li>插拔USB2 / USB3/Type-C设备和设定的端口的连接器类型然后生成一个``USBPorts.kext`的驱动程序</li><li>高级修补选项（DVMT-prealloc 32 MB ，VRAM 2048 MB，禁用eGPU，启用HDMI20（4K），欺骗SKL音频，DP-&gt;HDMI，USB端口限制，FB端口限制等）</li></ul><blockquote><p><strong>先来两个开味小菜：</strong></p></blockquote><h2>Layout-id修补</h2><ol><li><p>安装最新版本的Lilu和AppleALC</p></li><li><p>设置config.plist/Devices/Audio/Inject=NO</p></li><li><p>通过下拉列表设置Layout Id</p></li><li><p>检查补丁：General-&gt;Audio</p></li><li><p>File-&gt;Export-&gt;Clover config.plist</p></li><li><p>重启</p></li><li><p>如果没生效请重复第3步：更换不同的layout-id</p><p><img src="http://7.daliansky.net/FB-Patcher/AudioPatch.png" alt="udioPatch"></p></li></ol><p><img src="http://7.daliansky.net/FB-Patcher/AudioPatch2.png" alt="AudioPatch2"></p><h2>USB端口修补</h2><ol><li><p>应用USB端口限制补丁(在Patch-&gt;Advanced) 然后导出 File-&gt;Export-&gt;Clover config.plist <img src="http://7.daliansky.net/FB-Patcher/USBPortLimit.png" alt="USBPortLimit"></p></li><li><p>将<a href="https://github.com/RehabMan/OS-X-USB-Inject-All" target="_blank" rel="noopener">USBInjectAll.kext</a> 驱动放进<code>EFI/CLOVER/kexts/Other</code> ，同时需要在<code>config.plist-&gt;ACPI-&gt;DSDT Patches中添加重命名补丁</code></p><ul><li><p>change EHC1 to EH01</p></li><li><p>change EHC2 to EH02</p></li><li><p>change XHCI to XHC</p></li><li><p>两种格式：</p><ul><li><p></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Comment: change EHC1 to EH01</span><br><span class="line">Find:    45484331</span><br><span class="line">Replace: 45483031</span><br><span class="line">Comment: change EHC2 to EH02</span><br><span class="line">Find:    45484332</span><br><span class="line">Replace: 45483032</span><br><span class="line">Comment: change XHCI to XHC</span><br><span class="line">Find:    58484349</span><br><span class="line">Replace: 5848435f</span><br></pre></td></tr></table></figure><p></p></li><li><p></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;dict&gt;</span><br><span class="line">&lt;key&gt;Comment&lt;/key&gt;</span><br><span class="line">&lt;string&gt;change EHC1 to EH01&lt;/string&gt;</span><br><span class="line">&lt;key&gt;Disabled&lt;/key&gt;</span><br><span class="line">&lt;false/&gt;</span><br><span class="line">&lt;key&gt;Find&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">RUhDMQ==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;key&gt;Replace&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">RUgwMQ==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;/dict&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">&lt;key&gt;Comment&lt;/key&gt;</span><br><span class="line">&lt;string&gt;change EHC2 to EH02&lt;/string&gt;</span><br><span class="line">&lt;key&gt;Disabled&lt;/key&gt;</span><br><span class="line">&lt;false/&gt;</span><br><span class="line">&lt;key&gt;Find&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">RUhDMg==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;key&gt;Replace&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">RUgwMg==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;/dict&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">&lt;key&gt;Comment&lt;/key&gt;</span><br><span class="line">&lt;string&gt;change XHCI to XHC&lt;/string&gt;</span><br><span class="line">&lt;key&gt;Disabled&lt;/key&gt;</span><br><span class="line">&lt;false/&gt;</span><br><span class="line">&lt;key&gt;Find&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">WEhDSQ==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;key&gt;Replace&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">WEhDXw==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;/dict&gt;</span><br></pre></td></tr></table></figure><p></p><pre><code> - 它通常位于    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;key&gt;ACPI&lt;/key&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">&lt;key&gt;DSDT&lt;/key&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">&lt;key&gt;Patches&lt;/key&gt;</span><br><span class="line">&lt;array&gt;</span><br></pre></td></tr></table></figure>     下面，如果使用文字编辑软件，请不要放错位置。</code></pre><ul><li><p>附图：<img src="http://7.daliansky.net/FB-Patcher/changeXHC.png" alt="changeXHC"></p></li><li><p>重命令名字符串转换16进制示意图<img src="http://7.daliansky.net/FB-Patcher/echo-n2xxd.png" alt="echo-n2xxd"></p></li></ul></li></ul></li></ul></li><li><p>你也许还会需要<code>XHCI-200-series-injector.kext</code>,<code>XHCI-300-series-injector.kext</code>或者<code>XHCI-x99-injector.kext</code>，这取决于你所使用的INTEL芯片组</p></li><li><p>重启机器，重新打开<code>Intel FB-Patcher</code></p></li><li><p>转到General-&gt;USB接口</p><ul><li>分别插入和拔出USB 2.0和USB 3.0设备，要求：将机器上的每个USB端口都插拔一遍。可用的端口将以突出的颜色标出<img src="http://7.daliansky.net/FB-Patcher/USBOrigin.png" alt="USBOrigin"></li></ul></li><li><p>设置每个端口，在下拉列表中选择适当的接口类型<img src="http://7.daliansky.net/FB-Patcher/USBTest.png" alt="USBTest"></p><ul><li><p>连接到USB3端口应设置为USB3(注HSxx端口)</p></li><li><p>USB type-C型端口可以是9或10，这取决于硬件如何处理USB type-C型设备/电缆的两种可能方向 如果USB-C在两个方向上使用相同的SSxx，则它具有内部开关（UsbConnector = 9） 如果USB-C在每个方向使用不同的SSxx，则它没有开关（UsbConnector = 10）</p></li></ul></li><li><p>使用删除按钮移除无用的端口<img src="http://7.daliansky.net/FB-Patcher/USB_HS07.png" alt="USB_HS07"><img src="http://7.daliansky.net/FB-Patcher/USBFinal.png" alt="USBFinal"></p></li><li><p>使用<code>Export</code>按钮创建<code>USBPorts.kext</code> ，它位于你的桌面，将生成的<code>USBPorts.kext</code>复制进 <code>EFI/CLOVER/kexts/Other</code> **备注:**旧版本生成的驱动名称为<code>USBPower.kext</code><img src="http://7.daliansky.net/FB-Patcher/USBPower.png" alt="USBPower"></p></li><li><p>你现在可以删除掉<code>USBInjectAll.kext</code> 以及关闭端口限制的补丁了</p></li></ol><h2>USB端口补丁(macOS 10.14.1+)</h2><p>macOS 10.14.1+的USB端口限制补丁已经失效了，因此无法一次配置所有端口。 RehabMan已更新<a href="https://bitbucket.org/RehabMan/os-x-usb-inject-all/downloads/" target="_blank" rel="noopener">USBInjectAll.kext</a>以包含用于排除端口组的引导标志</p><ol><li>将USBInjectAll.kext（用于端口发现）放入EFI/CLOVER/kexts/Other USBInjectAll.kext要求：</li></ol><ul><li>Clover重命名XHC1 -&gt; XHC</li><li>Clover重命名EHC1 -&gt; EH01</li><li>Clover重命名EHC2 -&gt; EH02</li></ul><ol start="2"><li>运行FB-Patcher并转到General-&gt; USB选项卡以检查USB控制器列表 基于USB控制器，您可能需要安装额外的kexts：</li></ol><ul><li>8086:8CB1和macOS &lt;10.11.1 -&gt; <code>XHCI-9-series.kext</code></li><li>8086:8D31,8086:A2AF,8086:A36D,8086:9DED -&gt; <code>XHCI-unsupported.kext</code></li><li>8086:1E31,8086:8C31,8086:8CB1,8086:8D31,8086:9C31,8086:9CB1 -&gt; <code>FakePCIID.kext</code> + <code>FakePCIID_XHCIMux.kext</code></li></ul><ol start="3"><li>使用<code>-uia_exclude_ss</code>引导标志重新引导(在boot args添加：<code>-uia_exclude_ss</code>) 鼠标和键盘：</li></ol><ul><li>记下鼠标和键盘所连接的端口，并添加uia_include=x引导标志（例如，<code>uia_include=HS01,HS02</code>）以使它们保持活动状态</li></ul><ol start="4"><li>运行Intel FB-Patcher，转到General-&gt;USB选项卡</li></ol><ul><li>将USB 2.0和USB 3.0设备插入并拔出系统的每个USB端口</li><li>活动的端口将保持突出显示</li></ul><ol start="5"><li>使用下拉列表将每个端口设置为适当的连接器</li></ol><ul><li>永久连接设备的USB端口（例如M.2蓝牙卡）应设置为“内部”</li><li>连接到USB3端口的HSxx端口应设置为USB3</li><li>内部集线器通常连接到端口PR11和PR21，因此应设置为“内部” TypeC：</li><li>USB type-C型端口可以是9或10，这取决于硬件如何处理USB type-C型设备/电缆的两种可能方向 如果USB-C在两个方向上使用相同的SSxx，则它具有内部开关（UsbConnector = 9） 如果USB-C在每个方向使用不同的SSxx，则它没有开关（UsbConnector = 10）</li></ul><ol start="6"><li><p>使用“删除”按钮删除所有未使用的端口</p></li><li><p>使用添加的<code>-uia_exclude_hs</code>引导标志重新启动（删除<code>-uia_exclude_ss</code>引导标志）</p></li><li><p>转到步骤4（第二次跳过此步骤）</p></li><li><p>使用“导出”按钮在桌面上生成<code>USBPorts.kext</code>。将此文件复制到EFI/CLOVER/kexts/Other</p></li><li><p>您现在可以执行清理并删除不必要的文件：</p></li></ol><ul><li>删除自定义引导标志（<code>-uia_exclude_ss</code> <code>-uia_exclude_hs uia_include = x</code>）</li><li>删除USBInjectAll.kext</li><li>删除三叶草重命名（XHC，EH01，EH02）</li></ul><p><img src="http://7.daliansky.net/FB-Patcher/USBPorts_z370_0xA2AF.png" alt="USBPorts_z370_0xA2AF"></p><h3>FAQ</h3><p>Q. 什么是<code>USBPorts.kext</code>? A. 它是一个<a href="https://developer.apple.com/library/archive/documentation/Darwin/Conceptual/KEXTConcept/KEXTConceptAnatomy/kext_anatomy.html#//apple_ref/doc/uid/20002364-SW8" target="_blank" rel="noopener">Codeless Kernel Extension</a> 用于注入USB端口，让所有的USB端口都能正常工作 Q. 我还需要<code>SSDT-UIAC.aml</code>吗 A. 不，这个方法生成的是一个空壳的无代码的kext驱动</p><h2>核心功能：给FrameBuffer打补丁</h2><p>随着<code>macOS Mojave</code>的发行，之前的通过<code>CLOVER</code>-<code>KextsToPatch</code>通过修补帧缓冲的方法已经失效了，尤其是<code>SkyLake</code>及以后架构。您现在必须使用<code>Lilu</code> + <code>WhateverGreen</code>+<code>FB Patcher</code>的方式来驱动您的显卡。</p><h3>初步动作</h3><ul><li><p>删除<code>FakePCIID</code> <code>IntelGraphicsFixup</code>,<code>NvidiaGraphicsFixup</code>,<code>Shiki</code>和<code>CoreDisplayFixup</code></p></li><li><p>关闭<code>Clover</code>里面关于<code>Graphics</code>注入的参数，这些参数包括：</p><ul><li>config.plist/Graphics/Inject/ATI=NO</li><li>config.plist/Graphics/Inject/Intel=NO</li><li>config.plist/Graphics/Inject/NVidia=NO</li><li>config.plist/Graphics/ig-platform-id=</li><li>config.plist/Devices/FakeID/IntelGFX=</li></ul></li><li><p>关闭<code>Clover</code>里面关于<code>DSDT</code>的修复：</p><ul><li>AddHDMI</li><li>FixDisplay</li><li>FixIntelGfx</li><li>AddIMEI</li></ul></li><li><p>禁用<code>UseIntelHDMI</code></p></li><li><p>移除<code>boot argument</code>参数：<code>-disablegfxfirmware</code></p></li><li><p>移除<code>IGPU</code>和<code>HDMI</code>部分的全部内容，包括：</p><ul><li>config.plist/Devices/Arbitrary</li><li>config.plist/Devices/Properties</li><li>config.plist/Devices/AddProperties</li></ul></li><li><p>从以下位置删除任何与<code>IGPU</code>和<code>HDMI</code>相关的<code>SSDT</code>和<code>DSDT</code>：</p><ul><li>CLOVER/ACPI/patched</li></ul></li></ul><h3>使用方法</h3><ol><li>打开应用：<code>Intel FB Patcher.app</code></li><li>通过菜单项：<code>Framebuffer</code>选择<code>macOS 10.13.6 (17G2112)</code> / <code>macOS 10.14(18A389)</code><img src="http://7.daliansky.net/FB-Patcher/FB-Patcher_Select.png" alt="FB-Patcher_Select"></li><li>选择显卡的次代，比如<code>Intel HD Graphics 620</code>就需要选择<code>Kaby Lake</code>，<code>Intel HD Graphics 520</code>就需要选择<code>Skylake</code>等等，之后选择<code>Platform-id</code>，这个就是能正确驱动你的显卡的id，至于这个ID如何确定，请参考<a href="https://blog.daliansky.net/Intel-core-display-platformID-finishing.html">黑苹果必备：Intel核显platform ID整理及smbios速查表</a>。欲了解更多信息，请阅读<a href="https://www.tonymacx86.com/threads/guide-intel-framebuffer-patching-using-whatevergreen.256490/" target="_blank" rel="noopener">使用WhateverGreen英特尔帧缓冲修补</a>指南。中文版：<a href="https://blog.daliansky.net/Coffee-Lake-frame-buffer-patch-and-UHD630-Coffee-Lake-ig-platform-id-data-finishing.html">Coffee Lake帧缓冲区补丁及UHD630 Coffee Lake ig-platform-id数据整理</a></li><li>点击<code>Patch</code>按钮，在<code>Patch Options</code>-<code>General</code>选项中勾选<code>Auto Detect Changes</code>，<code>All</code>,<code>Connectors</code>,<code>VRAM</code>这几个选项；</li><li>在<code>Patch Options</code>-<code>Advanced</code>选项中勾选<code>DVMT pre-alloc 32 MB</code>，<code>VRAM 2048 MB</code>，<code>Enable HDMI20(4K)</code></li><li>勾选<code>Device id</code>，选择<code>platfrom-id</code>相对应的设置id，这通常跟你的显卡名称相吻合；</li><li>点击<code>Generate Patch</code>生成显卡驱动补丁；</li><li>通过菜单项：<code>File</code>-<code>Export</code>-<code>config.plist</code>，将该补丁导出到CLOVER的配置文件中；</li></ol><h3>几个例子：</h3><ul><li><p>Coffee Lake（八代）平台:Intel UHD Graphics 630(Mobile)<img src="http://7.daliansky.net/FB-Patcher/3E9B-A.png" alt="3E9B-A"><img src="http://7.daliansky.net/FB-Patcher/3E9B-B.png" alt="3E9B-B"><img src="http://7.daliansky.net/FB-Patcher/3E9B-C.png" alt="3E9B-C">通过菜单项：<code>File</code>-<code>Export</code>-<code>config.plist</code>，将该补丁导出到CLOVER的配置文件</p></li><li><p>Kabe Lake（七代）平台Intel HD Graphics 620/Intel UHD Graphics 620(Mobile)<img src="http://7.daliansky.net/FB-Patcher/5916-A.png" alt="5916-A"><img src="http://7.daliansky.net/FB-Patcher/5916-B.png" alt="5916-B"><img src="http://7.daliansky.net/FB-Patcher/5916-C.png" alt="5916-C">通过菜单项：<code>File</code>-<code>Export</code>-<code>config.plist</code>，将该补丁导出到CLOVER的配置文件</p></li><li><p>Sky Lake（六代）平台:Intel HD Graphics 530(Mobile)<img src="http://7.daliansky.net/FB-Patcher/191B-A.png" alt="191B-A"><img src="http://7.daliansky.net/FB-Patcher/191B-B.png" alt="191B-B"><img src="http://7.daliansky.net/FB-Patcher/191B-C.png" alt="191B-C">通过菜单项：<code>File</code>-<code>Export</code>-<code>config.plist</code>，将该补丁导出到CLOVER的配置文件</p></li><li><p>Haswell（四代）平台：Intel HD Graphics 4600(Mobile)<img src="http://7.daliansky.net/FB-Patcher/0A26-A.png" alt="0A26-A"><img src="http://7.daliansky.net/FB-Patcher/0A26-B.png" alt="0A26-B"><img src="http://7.daliansky.net/FB-Patcher/0A26-C.png" alt="0A26-C">通过菜单项：<code>File</code>-<code>Export</code>-<code>config.plist</code>，将该补丁导出到CLOVER的配置文件</p></li></ul><h2>本教程会随着新版本新增功能持续更新</h2><h2>下载链接</h2><p><a href="http://headsoft.com.au/download/mac/FBPatcher.zip" target="_blank" rel="noopener">http://headsoft.com.au/download/mac/FBPatcher.zip</a></p><h2>扩展阅读</h2><p><a href="https://blog.daliansky.net/Coffee-Lake-frame-buffer-patch-and-UHD630-Coffee-Lake-ig-platform-id-data-finishing.html">macOS High Sierra 10.13.6(17G2112)/Mojave ig-platform-id数据整理</a></p><h2>鸣谢</h2><ul><li>vit9696 for <a href="https://github.com/acidanthera/WhateverGreen" target="_blank" rel="noopener">WhateverGreen</a> (<a href="https://github.com/acidanthera/WhateverGreen#credits" target="_blank" rel="noopener">full credits</a>), <a href="https://github.com/acidanthera/Lilu" target="_blank" rel="noopener">Lilu</a> (<a href="https://github.com/acidanthera/Lilu#credits" target="_blank" rel="noopener">full credits</a>), <a href="https://github.com/acidanthera/AppleALC" target="_blank" rel="noopener">AppleALC</a> (<a href="https://github.com/acidanthera/AppleALC#credits" target="_blank" rel="noopener">full credits</a>), USBPower.kext and additional help</li><li>vit9696 for <a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/IntelFramebuffer.bt" target="_blank" rel="noopener">IntelFramebuffer.bt</a> with additional work by bcc9, Piker-Alpha and joevt</li><li>DalianSky for <a href="https://blog.daliansky.net/Intel-core-display-platformID-finishing.html">Intel Core Platform ID and SMBIOS Quick Reference</a></li><li>vandroiy2013 for audio id data from <a href="https://github.com/acidanthera/AppleALC" target="_blank" rel="noopener">AppleALC</a></li><li>RehabMan for AllData patch method and various technical info</li></ul><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>http://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
